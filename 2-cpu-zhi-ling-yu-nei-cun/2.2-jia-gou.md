# 2.2 架构

一个简单的冯-诺依曼架构是这样的：CPU只处理一个平面地址空间：一个**字节数组[1]**。PlayStation使用32位地址，所以CPU能处理2^32个地址（2^32Bits=4GB）。所以PlayStation是一个32位的游戏控制器（CPU使用32位通用寄存器）。

这个地址空间包含了CPU可以访问的所有外部资源：RAM和各种外围设备（GPU、控制器、CD驱动器、BIOS...）。这就是所谓的内存映射I/O。注意，在这种情况下，"内存 "并不是指RAM。相反，它意味着你访问外围设备就像访问内存一样（而不是使用专用指令）。从CPU的角度来看，一切都只是一个很大的字节数组，它不知道外面有什么。

当然，我们必须弄清楚设备和RAM在这个地址空间中是如何被映射的，以确保当CPU开始对总线进行读写时，**事务\[2]** 最终出现在正确的位置。但首先，我们需要了解代码是如何执行的。

在这种架构中，指令和其他数据一同存在于全局地址空间中，通常是在RAM中。再次强调，CPU并不关心外面有什么。如果你想从控制器的输入端口运行代码，我相信控制台会让你运行，可能没什么用，但对于CPU，这些都是一样的。

在这个4GB地址空间的某个位置，有供CPU运行的下一条指令。程序计数器寄存器指向下一条指令。

注解：

**字节数组\[1]**：字节数组就是由多个字节按照一定的规则排列组成的数据结构，可以被CPU直接访问和处理。

**事务\[2]**：指CPU对总线进行读写操作时所进行的一系列操作，包括获取和释放总线、读取和写入数据等等，这些操作一起组成了一个事务。
